-- tsql
CREATE LOGIN system_user_vu_prepare_r1 WITH PASSWORD = '123';
GO

CREATE LOGIN system_user_vu_prepare_r2 WITH PASSWORD = '123';
GO

CREATE PROCEDURE system_user_vu_prepare_procedure
AS
   SELECT session_user, system_user, current_user, db_name();
GO

CREATE VIEW system_user_vu_prepare_view
SELECT session_user, system_user, current_user, db_name();
GO

CREATE FUNCTION dbo.system_user_vu_prepare_function()
RETURNS INT
AS
BEGIN
RETURN (SELECT COUNT(*) FROM sys.system_user)
END
GO

CREATE FUNCTION dbo.session_user_vu_prepare_function()
RETURNS INT
AS
BEGIN
RETURN (SELECT COUNT(*) FROM sys.session_user)
END
GO

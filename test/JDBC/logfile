2022-06-10 21:32:28.502 UTC [14887] LOG:  starting PostgreSQL 14.3 on x86_64-pc-linux-gnu, compiled by gcc (GCC) 7.3.1 20180712 (Red Hat 7.3.1-14), 64-bit
2022-06-10 21:32:28.502 UTC [14887] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2022-06-10 21:32:28.502 UTC [14887] LOG:  listening on IPv6 address "::", port 5432
2022-06-10 21:32:28.507 UTC [14887] LOG:  listening on Unix socket "/tmp/.s.PGSQL.5432"
2022-06-10 21:32:28.509 UTC [14887] LOG:  listening on IPv4 address "0.0.0.0", port 1433
2022-06-10 21:32:28.509 UTC [14887] LOG:  listening on IPv6 address "::", port 1433
2022-06-10 21:32:28.514 UTC [14888] LOG:  database system was shut down at 2022-06-10 21:32:28 UTC
2022-06-10 21:32:28.518 UTC [14887] LOG:  database system is ready to accept connections
2022-06-10 21:32:31.315 UTC [14944] WARNING:  cast will be ignored because the source data type is a domain
2022-06-10 21:32:31.324 UTC [14944] WARNING:  cast will be ignored because the source data type is a domain
2022-06-10 21:32:31.359 UTC [14944] WARNING:  cast will be ignored because the source data type is a domain
2022-06-10 21:32:31.368 UTC [14944] WARNING:  cast will be ignored because the source data type is a domain
2022-06-10 21:32:32.131 UTC [14887] LOG:  received SIGHUP, reloading configuration files
2022-06-10 21:32:32.132 UTC [14887] LOG:  parameter "babelfishpg_tsql.database_name" changed to "jdbc_testdb"
2022-06-10 21:32:46.354 UTC [15196] LOG:  message_type: TDS7 Prelogin Message
2022-06-10 21:32:46.354 UTC [15196] CONTEXT:  TDS Protocol: Message Type: TDS Pre-Login, Phase: Login. 
2022-06-10 21:32:46.501 UTC [15196] LOG:  message_type: TDS7 Login
2022-06-10 21:32:46.501 UTC [15196] CONTEXT:  TDS Protocol: Message Type: TDS Login7, Phase: Login. 
2022-06-10 21:32:46.817 UTC [15196] LOG:  Unmapped error found. Code: 16801924, Message: syntax error at or near "NULL", File: scan.l, Line: 1240, Context: babelfishpg_tsql
2022-06-10 21:32:46.817 UTC [15196] CONTEXT:  PL/tsql function inline_code_block line 1 at SQL statement
	TDS Protocol: Message Type: SQL BATCH, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:46.817 UTC [15196] LOG:  Unmapped error found. Code: 16801924, Message: syntax error at or near "NULL", File: scan.l, Line: 1240, Context: babelfishpg_tsql
2022-06-10 21:32:46.817 UTC [15196] CONTEXT:  TDS Protocol: Message Type: SQL BATCH, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:46.817 UTC [15196] ERROR:  syntax error at or near "NULL" at character 1
2022-06-10 21:32:46.817 UTC [15196] QUERY:  NULL
2022-06-10 21:32:46.817 UTC [15196] CONTEXT:  PL/pgSQL function schema_name() line 7 at RETURN
	PL/tsql function inline_code_block line 1 at SQL statement
	TDS Protocol: Message Type: SQL BATCH, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:46.817 UTC [15196] LOG:  Unmapped error found. Code: 16801924, Message: syntax error at or near "NULL", File: scan.l, Line: 1240, Context: TDS
2022-06-10 21:32:46.817 UTC [15196] CONTEXT:  TDS Protocol: Message Type: SQL BATCH, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:47.109 UTC [15201] LOG:  message_type: TDS7 Prelogin Message
2022-06-10 21:32:47.109 UTC [15201] CONTEXT:  TDS Protocol: Message Type: TDS Pre-Login, Phase: Login. 
2022-06-10 21:32:47.256 UTC [15201] LOG:  message_type: TDS7 Login
2022-06-10 21:32:47.256 UTC [15201] CONTEXT:  TDS Protocol: Message Type: TDS Login7, Phase: Login. 
2022-06-10 21:32:47.573 UTC [15201] LOG:  Unmapped error found. Code: 16801924, Message: syntax error at or near "NULL", File: scan.l, Line: 1240, Context: babelfishpg_tsql
2022-06-10 21:32:47.573 UTC [15201] CONTEXT:  PL/tsql function inline_code_block line 1 at SQL statement
	TDS Protocol: Message Type: SQL BATCH, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:47.573 UTC [15201] LOG:  Unmapped error found. Code: 16801924, Message: syntax error at or near "NULL", File: scan.l, Line: 1240, Context: babelfishpg_tsql
2022-06-10 21:32:47.573 UTC [15201] CONTEXT:  TDS Protocol: Message Type: SQL BATCH, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:47.573 UTC [15201] ERROR:  syntax error at or near "NULL" at character 1
2022-06-10 21:32:47.573 UTC [15201] QUERY:  NULL
2022-06-10 21:32:47.573 UTC [15201] CONTEXT:  PL/pgSQL function schema_name() line 7 at RETURN
	PL/tsql function inline_code_block line 1 at SQL statement
	TDS Protocol: Message Type: SQL BATCH, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:47.573 UTC [15201] LOG:  Unmapped error found. Code: 16801924, Message: syntax error at or near "NULL", File: scan.l, Line: 1240, Context: TDS
2022-06-10 21:32:47.573 UTC [15201] CONTEXT:  TDS Protocol: Message Type: SQL BATCH, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:47.717 UTC [15201] LOG:  message_type: Remote Procedure Call (3) rpc_packet_type: sp_executesql
2022-06-10 21:32:47.717 UTC [15201] CONTEXT:  TDS Protocol: Message Type: RPC, SP Type: SP_EXECUTESQL, Phase: TDS_REQUEST_PHASE_FETCH. Fetching RPC Request
2022-06-10 21:32:47.872 UTC [15201] LOG:  message_type: Remote Procedure Call (3) rpc_packet_type: sp_executesql
2022-06-10 21:32:47.872 UTC [15201] CONTEXT:  TDS Protocol: Message Type: RPC, SP Type: SP_EXECUTESQL, Phase: TDS_REQUEST_PHASE_FETCH. Fetching RPC Request
2022-06-10 21:32:47.996 UTC [15201] LOG:  Unmapped error found. Code: 16801924, Message: end label "bpchar" specified for unlabeled block, File: pl_gram.y, Line: 3747, Context: babelfishpg_tsql
2022-06-10 21:32:47.996 UTC [15201] CONTEXT:  PL/tsql function inline_code_block line 1 at SQL statement
	TDS Protocol: Message Type: RPC, SP Type: SP_EXECUTESQL, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:47.996 UTC [15201] LOG:  Unmapped error found. Code: 16801924, Message: end label "bpchar" specified for unlabeled block, File: pl_gram.y, Line: 3747, Context: babelfishpg_tsql
2022-06-10 21:32:47.996 UTC [15201] CONTEXT:  TDS Protocol: Message Type: RPC, SP Type: SP_EXECUTESQL, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:47.996 UTC [15201] ERROR:  end label "bpchar" specified for unlabeled block at character 175
2022-06-10 21:32:47.996 UTC [15201] QUERY:  
	DECLARE
	 max_length SMALLINT;
	 precision INT;
	 v_type TEXT COLLATE "C" := type;
	BEGIN
	 -- unknown tsql type
	 IF v_type IS NULL THEN
	  RETURN CAST(typelen as SMALLINT);
	 END IF;
	
	 IF typelen != -1 THEN
	  CASE v_type
	  WHEN 'tinyint' THEN max_length = 1;
	  WHEN 'date' THEN max_length = 3;
	  WHEN 'smalldatetime' THEN max_length = 4;
	  WHEN 'smallmoney' THEN max_length = 4;
	  WHEN 'datetime2' THEN
	   IF typemod = -1 THEN max_length = 8;
	   ELSIF typemod <= 2 THEN max_length = 6;
	   ELSIF typemod <= 4 THEN max_length = 7;
	   ELSEIF typemod <= 7 THEN max_length = 8;
	   -- typemod = 7 is not possible for datetime2 in Babel
	   END IF;
	  WHEN 'datetimeoffset' THEN
	   IF typemod = -1 THEN max_length = 10;
	   ELSIF typemod <= 2 THEN max_length = 8;
	   ELSIF typemod <= 4 THEN max_length = 9;
	   ELSIF typemod <= 7 THEN max_length = 10;
	   -- typemod = 7 is not possible for datetimeoffset in Babel
	   END IF;
	  WHEN 'time' THEN
	   IF typemod = -1 THEN max_length = 5;
	   ELSIF typemod <= 2 THEN max_length = 3;
	   ELSIF typemod <= 4 THEN max_length = 4;
	   ELSIF typemod <= 7 THEN max_length = 5;
	   END IF;
	  WHEN 'timestamp' THEN max_length = 8;
	  ELSE max_length = typelen;
	  END CASE;
	  RETURN max_length;
	 END IF;
	
	 IF typemod = -1 THEN
	  CASE
	  WHEN v_type in ('image', 'text', 'ntext') THEN max_length = 16;
	  WHEN v_type = 'sql_variant' THEN max_length = 8016;
	  WHEN v_type in ('varbinary', 'varchar', 'nvarchar') THEN
	   IF for_sys_types THEN max_length = 8000;
	   ELSE max_length = -1;
	   END IF;
	  WHEN v_type in ('binary', 'char', 'bpchar', 'nchar') THEN max_length = 8000;
	  WHEN v_type in ('decimal', 'numeric') THEN max_length = 17;
	  ELSE max_length = typemod;
	  END CASE;
	  RETURN max_length;
	 END IF;
	
	 CASE
	 WHEN v_type in ('char', 'bpchar', 'varchar', 'binary', 'varbinary') THEN max_length = typemod - 4;
	 WHEN v_type in ('nchar', 'nvarchar') THEN max_length = (typemod - 4) * 2;
	 WHEN v_type = 'sysname' THEN max_length = (typemod - 4) * 2;
	 WHEN v_type in ('numeric', 'decimal') THEN
	  precision = ((typemod - 4) >> 16) & 65535;
	  IF precision >= 1 and precision <= 9 THEN max_length = 5;
	  ELSIF precision <= 19 THEN max_length = 9;
	  ELSIF precision <= 28 THEN max_length = 13;
	  ELSIF precision <= 38 THEN max_length = 17;
	 ELSE max_length = typelen;
	 END IF;
	 ELSE
	  max_length = typemod;
	 END CASE;
	 RETURN max_length;
	END;
	
2022-06-10 21:32:47.996 UTC [15201] CONTEXT:  compilation of PL/pgSQL function "tsql_type_max_length_helper" near line 6
	PL/tsql function inline_code_block line 1 at SQL statement
	TDS Protocol: Message Type: RPC, SP Type: SP_EXECUTESQL, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:47.996 UTC [15201] LOG:  Unmapped error found. Code: 16801924, Message: end label "bpchar" specified for unlabeled block, File: pl_gram.y, Line: 3747, Context: TDS
2022-06-10 21:32:47.996 UTC [15201] CONTEXT:  TDS Protocol: Message Type: RPC, SP Type: SP_EXECUTESQL, Phase: TDS_REQUEST_PHASE_PROCESS. Preparing to Send Back the Tds response
2022-06-10 21:32:48.139 UTC [15196] LOG:  EOF on TDS socket
2022-06-10 21:32:48.139 UTC [15196] CONTEXT:  TDS Protocol: EOF reached on TDS socket
2022-06-10 21:32:48.196 UTC [15201] LOG:  EOF on TDS socket
2022-06-10 21:32:48.196 UTC [15201] CONTEXT:  TDS Protocol: EOF reached on TDS socket
2022-06-10 21:33:07.139 UTC [14887] LOG:  received fast shutdown request
2022-06-10 21:33:07.143 UTC [14887] LOG:  aborting any active transactions
2022-06-10 21:33:07.144 UTC [14887] LOG:  background worker "logical replication launcher" (PID 14894) exited with exit code 1
2022-06-10 21:33:07.144 UTC [14889] LOG:  shutting down
2022-06-10 21:33:07.196 UTC [14887] LOG:  database system is shut down
2022-06-10 21:33:07.262 UTC [15448] LOG:  starting PostgreSQL 14.3 on x86_64-pc-linux-gnu, compiled by gcc (GCC) 7.3.1 20180712 (Red Hat 7.3.1-14), 64-bit
2022-06-10 21:33:07.263 UTC [15448] LOG:  listening on IPv4 address "0.0.0.0", port 5432
2022-06-10 21:33:07.263 UTC [15448] LOG:  listening on IPv6 address "::", port 5432
2022-06-10 21:33:07.268 UTC [15448] LOG:  listening on Unix socket "/tmp/.s.PGSQL.5432"
2022-06-10 21:33:07.271 UTC [15448] LOG:  listening on IPv4 address "0.0.0.0", port 1433
2022-06-10 21:33:07.271 UTC [15448] LOG:  listening on IPv6 address "::", port 1433
2022-06-10 21:33:07.272 UTC [15448] LOG:  invalid IP mask "trust": Name or service not known
2022-06-10 21:33:07.272 UTC [15448] CONTEXT:  line 100 of configuration file "/home/sfavian/postgres/data/pg_hba.conf"
2022-06-10 21:33:07.272 UTC [15448] FATAL:  could not load pg_hba.conf
2022-06-10 21:33:07.273 UTC [15448] LOG:  database system is shut down

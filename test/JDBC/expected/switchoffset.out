Select switchoffset('2001-04-22 ', -120)
GO
~~START~~
datetimeoffset
2001-04-21 22:00:00.0000000 -02:00
~~END~~


Select switchoffset('2001-04-22 ', 120)
GO
~~START~~
datetimeoffset
2001-04-22 02:00:00.0000000 +02:00
~~END~~


Select switchoffset('2001-04-22 17:34:56', 120)
GO
~~START~~
datetimeoffset
2001-04-22 19:34:56.0000000 +02:00
~~END~~


Select switchoffset('2001-04-22 17:34:56.345', 120)
GO
~~START~~
datetimeoffset
2001-04-22 19:34:56.3450000 +02:00
~~END~~


Select switchoffset('2001-04-22 17:34:56.345', 0)
go
~~START~~
datetimeoffset
2001-04-22 17:34:56.3450000 +00:00
~~END~~


Select switchoffset('2001-04-22 17:34:56.345', -0)
go
~~START~~
datetimeoffset
2001-04-22 17:34:56.3450000 +00:00
~~END~~


Select switchoffset('200a-0b-22 17:34:56.345', 1)
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: Conversion failed when converting date and/or time from character string.)~~


Select switchoffset('2001-04-22 17:34:56.345', 0x12)
go
~~ERROR (Code: 33557097)~~

~~ERROR (Message: The timezone provided to builtin function todatetimeoffset is invalid.)~~


Select switchoffset('2001-04-22 17:34:56.345', 'abcd')
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: The timezone provided to builtin function todatetimeoffset is invalid.)~~


Select switchoffset('2001-04-22 ', '+12:00')
GO
~~START~~
datetimeoffset
2001-04-22 12:00:00.0000000 +12:00
~~END~~


Select switchoffset('2001-04-22 ', '-12:00')
GO
~~START~~
datetimeoffset
2001-04-21 12:00:00.0000000 -12:00
~~END~~


Select switchoffset('2001-04-22 17:34:56', '-12:00')
GO
~~START~~
datetimeoffset
2001-04-22 05:34:56.0000000 -12:00
~~END~~


Select switchoffset('2001-04-22 17:34:56.345', '-11:00')
GO
~~START~~
datetimeoffset
2001-04-22 06:34:56.3450000 -11:00
~~END~~


Select switchoffset('2001-04-22 17:34:56.345', '+00:00')
GO
~~START~~
datetimeoffset
2001-04-22 17:34:56.3450000 +00:00
~~END~~


Select switchoffset('2001-04-22 17:34:56.345', '-00:00')
go
~~START~~
datetimeoffset
2001-04-22 17:34:56.3450000 +00:00
~~END~~


Select switchoffset('2001-04-22 10:34:56.345', '-11:00')
go
~~START~~
datetimeoffset
2001-04-21 23:34:56.3450000 -11:00
~~END~~


Select switchoffset('2001-04-22 17:34:56.345', '-101:00')
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: The timezone provided to builtin function todatetimeoffset is invalid.)~~


Select switchoffset('2001-04-22 17:34:56.345', '-011:00')
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: The timezone provided to builtin function todatetimeoffset is invalid.)~~


Select switchoffset('200a-0b-22 17:34:56.345', '-011:00')
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: The timezone provided to builtin function todatetimeoffset is invalid.)~~


Select switchoffset('2001-04-22 17:34:56.345', '+14:01')
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: The timezone provided to builtin function todatetimeoffset is invalid.)~~


Select switchoffset('2001-04-22 17:34:56.345', '-14:01')
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: The timezone provided to builtin function todatetimeoffset is invalid.)~~


Select switchoffset('2001-04-22 17:34:56.345', '-1a:00')
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: The timezone provided to builtin function todatetimeoffset is invalid.)~~


Select switchoffset('2001-04-22 17:34:56.345', '14:00')
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: The timezone provided to builtin function todatetimeoffset is invalid.)~~



-- Currently these inputs are giving wrong output due to casting issues .(BABEL-4321) 
Select switchoffset(convert(datetime,'2001-04-22'),'-13:00')
GO
~~START~~
datetimeoffset
2001-04-21 11:00:00.0000000 -13:00
~~END~~


Select switchoffset(convert(date,'2001-04-22'),'-13:00')
GO
~~START~~
datetimeoffset
2001-04-21 11:00:00.0000000 -13:00
~~END~~


Select switchoffset(convert(datetime2,'2001-04-22'),'-13:00')
GO
~~START~~
datetimeoffset
2001-04-21 11:00:00.0000000 -13:00
~~END~~


Select switchoffset(convert(smalldatetime,'2001-04-22'),'-13:00')
GO
~~START~~
datetimeoffset
2001-04-21 11:00:00.0000000 -13:00
~~END~~


Select switchoffset('0001-01-00 00:00:00.00', '-10:00')
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: Conversion failed when converting date and/or time from character string.)~~


Select switchoffset('0001-01-01 00:00:00.00', '+13:00')
GO
~~START~~
datetimeoffset
0001-01-01 13:00:00.0000000 +13:00
~~END~~


Select switchoffset('9999-12-31 11:59:59.59', '+12:00')
GO
~~START~~
datetimeoffset
9999-12-31 23:59:59.5900000 +12:00
~~END~~


Select switchoffset('9999-12-31 24:59:59.59', 130)
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: Conversion failed when converting date and/or time from character string.)~~


Select switchoffset('10000-12-31 23:59:59.59', 120)
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: Conversion failed when converting date and/or time from character string.)~~



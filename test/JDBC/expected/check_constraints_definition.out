-- Test check constraint def with number of characters more than 4000
create table ltable( a varchar, check(a = 'provvwstdjtlyzygsxcnqlkyukpjlseachjalbtttvujvdnhooyursfkalzuixjyhogeijfpyidmrjciefitzurwxrazaqbmpljryfhmraftlwmktxqzsrhnbfgftqdxpxsacoeyzmmrfptpuorfbsyaiumgwumeejdpgfkhekumxqqzplnpojlzwpeoznospniqdyfmgyifgrqjpiapjszcykssdgfnzjsgsbzjfcebtlxytwtczrufccrpczitbvpgdhyishwlkatimhxkzvsgqxdrqdiieglnizryhllxlqhfnxeyjofmopglwczssmrocmkqdstpmldifjwvdzwebyruaxlcaxqyiljfmmmohealrzerdjymvoetanchzpfpfxtnkenlsxolaoibfdqkhvwpvcvnovvzmgmjbxowimunqmqqlrvvdhlvdvokuvwbdurvxzonhmdnqxejtwraxtkmtzsvgawpsvtscmcnevslmantvrvbcaeotvhqbfukdadxxiwvumryaasyerhdnexyztbjdlpourvdnfmkxysjysksivurxowjjsizchrkciwhutpnxxqknjgkuvbmxywpbdleydsfyahzhhjzmadkjizjvnqweqdztdepjnaowwhqdixrwhkqnhpeyujpbczsimjfxtdfmtlqvlkxpmhgcpgnvqiwgxigliotyfyfdumuxrrxpyaepflxwvnxrneyladslmmkrvapylaezrczkykiwtgiuxjgbkgpshlptwxzmefdjqpbjaxszrqkcujxhkdksbbskiuazijfoivmskwqtbnglqedoknyofvvjiyowjsunswyukjypmejicaivpxslbrfsmbostwmdoypilvjsqucymywzqbzyicyyjsqslnqfbqegoejxivmrffvpumhjouhgvzfgyajrhjilxcckznwbmpehsmztlwuvthgqtghlghdydgoxxatxmtwrwnelmpolxytoibraaldzbdndccayqsqwqumcifenspaxztpqaxdcotbgsrnlriwkkvzgdextdivauvzpipgaodgsoqnutzklkiebpbmygeguartyqxascsaepwwdrdxdxbfgzjypmwisibntyckagqpseqoqbrzgxtpxbtwsxogyvszsocvurmfyhyvrzwwsoiglyoyuwbimbdfuuxjkhubgvrfodfbmsafvuzbhqavujwifvlpswykpgcjvywpvuwqcqmqtjwsezttpjqcbghrhprxmplsqafbomdipbyhdsendkokartnklgggprtjdoegrjrmvaudgahzfmeljseivxkflgkfatfgogmcnbgsnyhvzstelyxfzcufotrjjodijlkdusbrcnkubbfgjtgbzymwgwbfpaxdhrchgnipfomyyiikhbconzphustwlpbkgvcpctczctgmzohcjfcccbjycehksregjffvfoymcbrsxgjqfjnfjfhvskohydaoxjpiunoflvwwgtjdilntlxruztsfizglsxzihqtvznczxvpbygqpaxxoienkgydytnfzmtzdhtakoikhneaapanhbcshvdxganertfbjtmbaioxiacmfguopzdaswgvzvzwyimbvkjivhddeyaijgjcezpyprnuhzrrefrnxsbcsodhpawjepsngcbyftltqvmdlmoifeffzarkkabglekkxnanpueylybjllbkjwpplxqyympjnsyitqpubftpeiacohxrogjkdcpqepcwebvsqsuenkprjrkvakazbneqwfrkhaiuuekrhdvdmdeftofrnihzrsnbalqjlzzxuhcmluhbqhsnnnrwywyzhyrimnojsynssscxdmmpyqoyqqerfvjwbpzcrvjqksampppyffoktbvnlejekvhivdgrbhnfbxekanpylutuwvvayysnrqajxvcsjaqwgzbnsljgzhapkkorsfwyiftfrhllcjwkzpbphiliiwnpsfiofiwioniousqmyfabldkogeahufsorgcdaulusynkcowzkgzwnclzycxmtxtiqmkxebrwpiwnvvxxmitrclpmfsslwboswpnyjncpyfllllhbzauhrztubiriulxedzqduzvygomolxssbbvyrevgiirzkjchteyimchgqfzdzwbubdcptwamyegsncyhxngqyhlnninraksjbfwthlgsehhukjqfspnttatpqnwryohzhfldfhfxmvgnxbzerwnmmceaokxgongbxlgtwwwlyuwejrhvbnnsqalbsnzmaorwrdrfyjklkcyxxzatfzajwkoryfalpirewqmwvtxttuvsyftuvilnnmjagxhajnspfiywchskgvairrexlrayyrkbwsgxxaoxcjuslgnwrotofwvyqbdrvfgdsjuslsfwrvgsoghflwjyivumqiauuqktdsgeecqktsfqcgpnpqypoevoeuxtliqcvrioednzxsygdklfufcdqkkfiysbiqdbrlsgiznbxdpjbkeqhawyuzwkfxgmykmqrqyuwnzcbmpthnuknmkgrnlzcfutcnvthoejiiinmugidsyogvcsiwfwvdzauwenxonrdudwfsmocsfhqdanzrdyiafnztshpwaivbxnihtaornxujdjgdrirfoghvaniejkboptmxjzsmmbmxzirnsvejpdmjrgknbqhovuioofmyyaylrscvhyilbihpcimebumipsefbcpkbboajblaemlgbdhziuoewdahiyomgdvyijtdqwvgrpmrntyfdsrlyvqxrqlrepyjnswysanekarpzkoeonordbcueojxcsdawbwbpyxhnikfgodsgqnawwbjfynaorgkaltsiciptjeadqijiawcvvcdjxwfmftgsqthdjkwletsknosrflsexbumdhrptkzkckfvlxaooansrylwdgazzoofvwaoifwogthkrthrywfdazakaeqemgtepmpjpimcqrcqwqozgmymbavbziztmdeothaxljdvvjxldjczjwtouedwzewwwnbugjouhtytwbjosbvbhwhgjzmvunvhuftajlzxtedauvudznbdznfdsegoiwaewshchsuprvbgcyxuvvphmyncfucszaioeqbtrdhpatnwinbenkxsfchuagcqpkepkktcujnazepbcujcjoopsyidlggxhyerkgqhxozuxlexrjexjkeocvhbsgefwrxtcvrunsdsqkivgfbveuwbkdpuqykckjjzkyiurviccyhkigqgwauqfudxhfqehcsidgrdeqveqicqnlubecuhihchrgscrmtvromvklfmcgckvdlljqybumgzqdtirizlithvtjghxsvdpwhqhmlntqpugtslhtebznfkbvuihtrgwymxbfamykqqjnaosueenotsnmvwpwzbzjkdspesiboniokannleitpjuvqxteiioozzymvmnohcksmqtigmeamguheqbiesnxuwhfrobdveiwqykxcfxfgiojmdhdoyhwwcdietkrtwclibdwftbafyioskcmzdozabrvzofsoanzpmolpyhsnyquihpzdquksylxbpbyogzdlrfazfvefoyavralxogzicjoxgmsjqcznyiuwaizwpwfxdtlhxiyadgurhwmnjdliymurukkxugdtpzsyqtrxrcmxihounkkrqpnirputcjynozfopvrjymupchfjcbgebiwhbejmsrhlonbjxadmxekwwmbsfcgikmgfvzwyrbunlxcwmihykwywozqdyfdvjjpiammriimvcxemadanokpgmcspgohxonrdaylklymiugkqfabhrgyfcjaylrehyzwwddvhmcfhikodhoifqfffvuaoqfwvrjmdcmxrifwgvuwzyipiraayhxdfbzyefbktrlulbapwfjbhypdvumdpxvsvdfvefvsdjvhbdjhcbusichiucbwbcvnbskjcnsdkjcvnkdvabcdefghijklmnopqrstuvwxyz'));
go

select length(tsql_get_constraintdef(oid)) from pg_constraint where contype='c' and conrelid = (select oid from pg_class where relname='ltable');
go
~~START~~
int
4098
~~END~~


-- The check constraint defnition only shows upto 4000 number of characters.
select "CHECK_CLAUSE", length("CHECK_CLAUSE") from information_schema_tsql.check_constraints;
go
~~START~~
nvarchar#!#int
((a = CAST('provvwstdjtlyzygsxcnqlkyukpjlseachjalbtttvujvdnhooyursfkalzuixjyhogeijfpyidmrjciefitzurwxrazaqbmpljryfhmraftlwmktxqzsrhnbfgftqdxpxsacoeyzmmrfptpuorfbsyaiumgwumeejdpgfkhekumxqqzplnpojlzwpeoznospniqdyfmgyifgrqjpiapjszcykssdgfnzjsgsbzjfcebtlxytwtczrufccrpczitbvpgdhyishwlkatimhxkzvsgqxdrqdiieglnizryhllxlqhfnxeyjofmopglwczssmrocmkqdstpmldifjwvdzwebyruaxlcaxqyiljfmmmohealrzerdjymvoetanchzpfpfxtnkenlsxolaoibfdqkhvwpvcvnovvzmgmjbxowimunqmqqlrvvdhlvdvokuvwbdurvxzonhmdnqxejtwraxtkmtzsvgawpsvtscmcnevslmantvrvbcaeotvhqbfukdadxxiwvumryaasyerhdnexyztbjdlpourvdnfmkxysjysksivurxowjjsizchrkciwhutpnxxqknjgkuvbmxywpbdleydsfyahzhhjzmadkjizjvnqweqdztdepjnaowwhqdixrwhkqnhpeyujpbczsimjfxtdfmtlqvlkxpmhgcpgnvqiwgxigliotyfyfdumuxrrxpyaepflxwvnxrneyladslmmkrvapylaezrczkykiwtgiuxjgbkgpshlptwxzmefdjqpbjaxszrqkcujxhkdksbbskiuazijfoivmskwqtbnglqedoknyofvvjiyowjsunswyukjypmejicaivpxslbrfsmbostwmdoypilvjsqucymywzqbzyicyyjsqslnqfbqegoejxivmrffvpumhjouhgvzfgyajrhjilxcckznwbmpehsmztlwuvthgqtghlghdydgoxxatxmtwrwnelmpolxytoibraaldzbdndccayqsqwqumcifenspaxztpqaxdcotbgsrnlriwkkvzgdextdivauvzpipgaodgsoqnutzklkiebpbmygeguartyqxascsaepwwdrdxdxbfgzjypmwisibntyckagqpseqoqbrzgxtpxbtwsxogyvszsocvurmfyhyvrzwwsoiglyoyuwbimbdfuuxjkhubgvrfodfbmsafvuzbhqavujwifvlpswykpgcjvywpvuwqcqmqtjwsezttpjqcbghrhprxmplsqafbomdipbyhdsendkokartnklgggprtjdoegrjrmvaudgahzfmeljseivxkflgkfatfgogmcnbgsnyhvzstelyxfzcufotrjjodijlkdusbrcnkubbfgjtgbzymwgwbfpaxdhrchgnipfomyyiikhbconzphustwlpbkgvcpctczctgmzohcjfcccbjycehksregjffvfoymcbrsxgjqfjnfjfhvskohydaoxjpiunoflvwwgtjdilntlxruztsfizglsxzihqtvznczxvpbygqpaxxoienkgydytnfzmtzdhtakoikhneaapanhbcshvdxganertfbjtmbaioxiacmfguopzdaswgvzvzwyimbvkjivhddeyaijgjcezpyprnuhzrrefrnxsbcsodhpawjepsngcbyftltqvmdlmoifeffzarkkabglekkxnanpueylybjllbkjwpplxqyympjnsyitqpubftpeiacohxrogjkdcpqepcwebvsqsuenkprjrkvakazbneqwfrkhaiuuekrhdvdmdeftofrnihzrsnbalqjlzzxuhcmluhbqhsnnnrwywyzhyrimnojsynssscxdmmpyqoyqqerfvjwbpzcrvjqksampppyffoktbvnlejekvhivdgrbhnfbxekanpylutuwvvayysnrqajxvcsjaqwgzbnsljgzhapkkorsfwyiftfrhllcjwkzpbphiliiwnpsfiofiwioniousqmyfabldkogeahufsorgcdaulusynkcowzkgzwnclzycxmtxtiqmkxebrwpiwnvvxxmitrclpmfsslwboswpnyjncpyfllllhbzauhrztubiriulxedzqduzvygomolxssbbvyrevgiirzkjchteyimchgqfzdzwbubdcptwamyegsncyhxngqyhlnninraksjbfwthlgsehhukjqfspnttatpqnwryohzhfldfhfxmvgnxbzerwnmmceaokxgongbxlgtwwwlyuwejrhvbnnsqalbsnzmaorwrdrfyjklkcyxxzatfzajwkoryfalpirewqmwvtxttuvsyftuvilnnmjagxhajnspfiywchskgvairrexlrayyrkbwsgxxaoxcjuslgnwrotofwvyqbdrvfgdsjuslsfwrvgsoghflwjyivumqiauuqktdsgeecqktsfqcgpnpqypoevoeuxtliqcvrioednzxsygdklfufcdqkkfiysbiqdbrlsgiznbxdpjbkeqhawyuzwkfxgmykmqrqyuwnzcbmpthnuknmkgrnlzcfutcnvthoejiiinmugidsyogvcsiwfwvdzauwenxonrdudwfsmocsfhqdanzrdyiafnztshpwaivbxnihtaornxujdjgdrirfoghvaniejkboptmxjzsmmbmxzirnsvejpdmjrgknbqhovuioofmyyaylrscvhyilbihpcimebumipsefbcpkbboajblaemlgbdhziuoewdahiyomgdvyijtdqwvgrpmrntyfdsrlyvqxrqlrepyjnswysanekarpzkoeonordbcueojxcsdawbwbpyxhnikfgodsgqnawwbjfynaorgkaltsiciptjeadqijiawcvvcdjxwfmftgsqthdjkwletsknosrflsexbumdhrptkzkckfvlxaooansrylwdgazzoofvwaoifwogthkrthrywfdazakaeqemgtepmpjpimcqrcqwqozgmymbavbziztmdeothaxljdvvjxldjczjwtouedwzewwwnbugjouhtytwbjosbvbhwhgjzmvunvhuftajlzxtedauvudznbdznfdsegoiwaewshchsuprvbgcyxuvvphmyncfucszaioeqbtrdhpatnwinbenkxsfchuagcqpkepkktcujnazepbcujcjoopsyidlggxhyerkgqhxozuxlexrjexjkeocvhbsgefwrxtcvrunsdsqkivgfbveuwbkdpuqykckjjzkyiurviccyhkigqgwauqfudxhfqehcsidgrdeqveqicqnlubecuhihchrgscrmtvromvklfmcgckvdlljqybumgzqdtirizlithvtjghxsvdpwhqhmlntqpugtslhtebznfkbvuihtrgwymxbfamykqqjnaosueenotsnmvwpwzbzjkdspesiboniokannleitpjuvqxteiioozzymvmnohcksmqtigmeamguheqbiesnxuwhfrobdveiwqykxcfxfgiojmdhdoyhwwcdietkrtwclibdwftbafyioskcmzdozabrvzofsoanzpmolpyhsnyquihpzdquksylxbpbyogzdlrfazfvefoyavralxogzicjoxgmsjqcznyiuwaizwpwfxdtlhxiyadgurhwmnjdliymurukkxugdtpzsyqtrxrcmxihounkkrqpnirputcjynozfopvrjymupchfjcbgebiwhbejmsrhlonbjxadmxekwwmbsfcgikmgfvzwyrbunlxcwmihykwywozqdyfdvjjpiammriimvcxemadanokpgmcspgohxonrdaylklymiugkqfabhrgyfcjaylrehyzwwddvhmcfhikodhoifqfffvuaoqfwvrjmdcmxrifwgvuwzyipiraayhxdfbzyefbktrlulbapwfjbhyp#!#4000
~~END~~


drop table ltable;
go

-- cross db ref for check constraint object definition
create database db1;
go

use db1;
go

create table test_tsql_const(
	c_int int primary key,
	c_bit sys.bit check(c_bit <> cast(1 as sys.bit)),
	check(c_int < 10),
	c_smallint smallint check(c_smallint < cast(cast(CAST('20' AS smallint) as sql_variant) as smallint)),
	c_binary binary(8) check(c_binary > cast(0xfe as binary(8))),
	c_varbinary varbinary(8) check(c_varbinary > cast(0xfe as varbinary(8)))
);
go

-- float(7) will be displayed as real in the constraint definition  
create table test_tsql_cast(
	c_float float check(c_float < cast(133.230182309832423 as float) and c_float < cast(133.230182309832423 as float(7))),
	c_real real check(c_real < cast(133.230182309832423 as real)),
	c_decimal decimal check(c_decimal < cast(cast($133.23 as money) as decimal) and c_decimal < cast(133.230182309832423 as decimal(5,3))),
	c_numeric numeric check(c_numeric < cast(133.230182309832423 as numeric) and c_numeric < cast(133.230182309832423 as numeric(5,3))),
);
go

create table test_tsql_collate(
	c_varchar varchar check(c_varchar <> cast('sflkjasdlkfjf' as varchar(12)) COLLATE bbf_unicode_cp1_ci_as),
	c_char char check(c_char <> cast('sflkjasdlkfjf' as char(7)) COLLATE bbf_unicode_cp1_ci_as),
	c_char1 char check(c_char <> cast('abcd' as char(7)) COLLATE "default"),
	c_nchar nchar check(cast(c_nchar as nchar(7)) <> cast('sflkjasdlkfjf' as nchar(7)) COLLATE bbf_unicode_cp1_ci_as),
);
go

create table test_datetime(
	c_time time check(cast(c_time as pg_catalog.time) < cast('09:00:00' as time) and c_time < cast('09:00:00' as time(6))),
	c_date date check(c_date < cast('2001-01-01' as date)),
	c_datetime datetime check(c_datetime < cast('2020-10-20 09:00:00' as datetime)),
	c_datetime2 datetime2 check(c_datetime2 < cast('2020-10-20 09:00:00' as datetime2) and c_datetime2 < cast('2020-10-20 09:00:00' as datetime2(6)) ),
	c_datetimeoffset datetimeoffset check(c_datetimeoffset < cast('12-10-25 12:32:10 +01:00' as sys.datetimeoffset) and c_datetimeoffset < cast('12-10-25 12:32:10 +01:00' as datetimeoffset(4))),
	c_smalldatetime smalldatetime check(c_smalldatetime < cast('2007-05-08 12:35:29.123' AS smalldatetime)),
);
go

create table test_functioncall(
	col1 sys.nvarchar,
	check (isjson(col1) > 0),
	check (right(col1,1) <> ','),
	check (ltrim(col1) <> ''),
	check (CONVERT([nvarchar](128),(sys.getutcdate() AT TIME ZONE [col1]))<>'')
);
go

create schema sch1;
create type sch1.udd_float from sys.float;
create type sch1.udd_datetime from sys.datetime;
create type sch1.udd_time from time(6);
go

-- Inside check constraint definition alias datatypes are not allowed
create table test_udd(
	c_udd sch1.udd_float check(c_udd < 133.230182309832423),
	c_udd1 sch1.udd_datetime check(c_udd1 < '2020-10-20 09:00:00'),
	c_udd2 sch1.udd_time check(c_udd2 < '09:00:00'),
);
go

create table test_null(a int, b int, check(a IS NOT NULL), CONSTRAINT constraint1 check (a>10));
go

create table test_upper(a char, check (upper(a) in ('A','B')));
go

alter table test_null add constraint constraint2 check(a<=20 and b>a and (a between 40 and 50));
go

set ansi_nulls on;
go
create table test_null1(a int, b int, check(a <> NULL), check(b = NULL));
go
	
set ansi_nulls off;
go

create table test_null2(a int, b int, check(a <> NULL), check(b = NULL));
go

select * from information_schema_tsql.check_constraints order by "CONSTRAINT_NAME";
go
~~START~~
nvarchar#!#nvarchar#!#varchar#!#nvarchar
db1#!#dbo#!#constraint1test_null987b8e55c77de33d095778885ecd84f4#!#((a > 10))
db1#!#dbo#!#constraint2test_nullba039d416ebe51c75b9d6d571d9a6f74#!#(((a <= 20) AND (b > a) AND ((a >= 40) AND (a <= 50))))
db1#!#dbo#!#test_datetime_c_date_check#!#((c_date < CAST('2001-01-01' AS date)))
db1#!#dbo#!#test_datetime_c_datetime2_check#!#(((c_datetime2 < CAST('2020-10-20 09:00:00' AS datetime2)) AND (c_datetime2 < CAST('2020-10-20 09:00:00' AS datetime2(6)))))
db1#!#dbo#!#test_datetime_c_datetime_check#!#((c_datetime < CAST('2020-10-20 09:00:00' AS datetime)))
db1#!#dbo#!#test_datetime_c_datetimeoffset_check#!#(((c_datetimeoffset < CAST('2025-12-10 12:32:10 +01:00' AS datetimeoffset)) AND (c_datetimeoffset < CAST('2025-12-10 12:32:10 +01:00' AS datetimeoffset(4)))))
db1#!#dbo#!#test_datetime_c_smalldatetime_check#!#((c_smalldatetime < CAST('2007-05-08 12:35:00' AS smalldatetime)))
db1#!#dbo#!#test_datetime_c_time_check#!#(((c_time < CAST('09:00:00' AS time)) AND (c_time < CAST('09:00:00' AS time(6)))))
db1#!#dbo#!#test_functioncall_col1_check#!#((isjson(col1) > 0))
db1#!#dbo#!#test_functioncall_col1_check1#!#(("right"(col1, 1) <> ','))
db1#!#dbo#!#test_functioncall_col1_check2#!#((ltrim(col1) <> ''))
db1#!#dbo#!#test_functioncall_col1_check3#!#((CAST((getutcdate() AT TIME ZONE col1) AS nvarchar(128)) <> CAST('' AS varchar)))
db1#!#dbo#!#test_null1_a_check#!#((a <> CAST(NULL AS int)))
db1#!#dbo#!#test_null1_b_check#!#((b = CAST(NULL AS int)))
db1#!#dbo#!#test_null2_a_check#!#((a IS NOT NULL))
db1#!#dbo#!#test_null2_b_check#!#((b IS NULL))
db1#!#dbo#!#test_null_a_check#!#((a IS NOT NULL))
db1#!#dbo#!#test_tsql_cast_c_decimal_check#!#(((c_decimal < CAST((CAST((133.23) AS money)) AS decimal(18,0))) AND (c_decimal < CAST((133.230182309832423) AS decimal(5,3)))))
db1#!#dbo#!#test_tsql_cast_c_float_check#!#(((c_float < CAST((133.230182309832423) AS float)) AND (c_float < CAST((133.230182309832423) AS real))))
db1#!#dbo#!#test_tsql_cast_c_numeric_check#!#(((c_numeric < CAST(133.230182309832423 AS numeric(18,0))) AND (c_numeric < CAST(133.230182309832423 AS numeric(5,3)))))
db1#!#dbo#!#test_tsql_cast_c_real_check#!#((c_real < CAST((133.230182309832423) AS real)))
db1#!#dbo#!#test_tsql_collate_c_char_check#!#((c_char <> (CAST('sflkjasdlkfjf' AS char(7)) COLLATE bbf_unicode_cp1_ci_as)))
db1#!#dbo#!#test_tsql_collate_c_char_check1#!#((c_char <> (CAST('abcd' AS char(7)) COLLATE "default")))
db1#!#dbo#!#test_tsql_collate_c_nchar_check#!#((CAST((c_nchar) AS nchar(7)) <> (CAST((CAST('sflkjasdlkfjf' AS char)) AS nchar(7)) COLLATE bbf_unicode_cp1_ci_as)))
db1#!#dbo#!#test_tsql_collate_c_varchar_check#!#((c_varchar <> (CAST('sflkjasdlkfjf' AS varchar(12)) COLLATE bbf_unicode_cp1_ci_as)))
db1#!#dbo#!#test_tsql_const_c_binary_check#!#((c_binary > CAST((CAST('0xfe' AS binary(8))) AS binary(8))))
db1#!#dbo#!#test_tsql_const_c_bit_check#!#((c_bit <> CAST((1) AS bit)))
db1#!#dbo#!#test_tsql_const_c_int_check#!#((c_int < 10))
db1#!#dbo#!#test_tsql_const_c_smallint_check#!#((c_smallint < CAST((CAST((CAST('20' AS smallint)) AS sql_variant)) AS smallint)))
db1#!#dbo#!#test_tsql_const_c_varbinary_check#!#((c_varbinary > CAST('0xfe' AS varbinary(8))))
db1#!#dbo#!#test_udd_c_udd1_check#!#((c_udd1 < CAST('2020-10-20 09:00:00' AS datetime)))
db1#!#dbo#!#test_udd_c_udd2_check#!#((c_udd2 < CAST('09:00:00' AS time)))
db1#!#dbo#!#test_udd_c_udd_check#!#((c_udd < 133.230182309832423))
db1#!#dbo#!#test_upper_a_check#!#((upper(a) IN ('A', 'B')))
~~END~~


drop table test_tsql_const
drop table test_datetime
drop table test_functioncall
drop table test_null
drop table test_tsql_collate
drop table test_tsql_cast
drop table test_upper
drop table test_null1
drop table test_null2
drop table test_udd
go

drop type sch1.udd_float;
drop type sch1.udd_datetime;
drop type sch1.udd_time;
drop schema sch1;
go

use master
go

select * from information_schema_tsql.check_constraints order by "CONSTRAINT_NAME";
go
~~START~~
nvarchar#!#nvarchar#!#varchar#!#nvarchar
~~END~~


drop database db1
go

-- cross schema ref for check constraint object definition
create schema sch1;
go

create table sch1.test_date(
	col_datetime datetime check(col_datetime < CAST('20060830' AS datetime)),
);
go

create table sch1.test_like(a int, b char, CHECK (NOT a like '%[^0-9]%'));
go
~~ERROR (Code: 33557097)~~

~~ERROR (Message: pattern matching operators '[' and ']' are not supported for LIKE)~~


drop table sch1.test_date;
go

drop schema sch1;
go


-- Show all BABELFISH Gucs
EXEC sp_babelfish_configure '%'
GO
~~START~~
text#!#text#!#text
babelfishpg_tsql.escape_hatch_checkpoint#!#ignore#!#escape hatch for CHECKPOINT
babelfishpg_tsql.escape_hatch_constraint_name_for_default#!#ignore#!#escape hatch for DEFAULT option in alter table add constraint
babelfishpg_tsql.escape_hatch_database_misc_options#!#ignore#!#escape hatch for misc options in CREATE/ALTER DATABASE
babelfishpg_tsql.escape_hatch_for_replication#!#strict#!#escape hatch for (NOT) FOR REPLICATION option
babelfishpg_tsql.escape_hatch_fulltext#!#strict#!#escape hatch for fulltext
babelfishpg_tsql.escape_hatch_ignore_dup_key#!#strict#!#escape hatch for ignore_dup_key=on option in CREATE/ALTER TABLE/INDEX
babelfishpg_tsql.escape_hatch_index_clustering#!#ignore#!#escape hatch for CLUSTERED option in CREATE INDEX
babelfishpg_tsql.escape_hatch_index_columnstore#!#strict#!#escape hatch for COLUMNSTORE option in CREATE INDEX
babelfishpg_tsql.escape_hatch_join_hints#!#ignore#!#escape hatch for join hints
babelfishpg_tsql.escape_hatch_language_non_english#!#strict#!#escape hatch for non-english language
babelfishpg_tsql.escape_hatch_login_hashed_password#!#strict#!#escape hatch for login hashed passwords
babelfishpg_tsql.escape_hatch_login_misc_options#!#strict#!#escape hatch for login miscellaneous options
babelfishpg_tsql.escape_hatch_login_old_password#!#strict#!#escape hatch for login old passwords
babelfishpg_tsql.escape_hatch_login_password_must_change#!#strict#!#escape hatch for login passwords must_change option
babelfishpg_tsql.escape_hatch_login_password_unlock#!#strict#!#escape hatch for login passwords unlock option
babelfishpg_tsql.escape_hatch_nocheck_add_constraint#!#strict#!#escape hatch for WITH [NO]CHECK option in alter table add
babelfishpg_tsql.escape_hatch_nocheck_existing_constraint#!#strict#!#escape hatch for WITH [NO]CHECK option in alter table on exsiting constraint
babelfishpg_tsql.escape_hatch_query_hints#!#ignore#!#escape hatch for query hints
babelfishpg_tsql.escape_hatch_rowguidcol_column#!#ignore#!#escape hatch for ROWGUIDCOL option
babelfishpg_tsql.escape_hatch_rowversion#!#strict#!#escape hatch for TIMESTAMP/ROWVERSION columns
babelfishpg_tsql.escape_hatch_schemabinding_function#!#ignore#!#escape hatch for SCHEMABINDING option in CREATE FUNCTION
babelfishpg_tsql.escape_hatch_schemabinding_procedure#!#ignore#!#escape hatch for SCHEMABINDING option in CREATE PROCEDURE
babelfishpg_tsql.escape_hatch_schemabinding_trigger#!#ignore#!#escape hatch for SCHEMABINDING option in CREATE TRIGGER
babelfishpg_tsql.escape_hatch_schemabinding_view#!#ignore#!#escape hatch for SCHEMABINDING option in CREATE VIEW
babelfishpg_tsql.escape_hatch_session_settings#!#ignore#!#escape hatch for session settings
babelfishpg_tsql.escape_hatch_showplan_all#!#strict#!#escape hatch for SHOWPLAN_ALL and STATISTICS PROFILE
babelfishpg_tsql.escape_hatch_storage_on_partition#!#strict#!#escape hatch for storage_on_partition option in CREATE/ALTER TABLE and CREATE INDEX
babelfishpg_tsql.escape_hatch_storage_options#!#ignore#!#escape hatch for storage options option in CREATE/ALTER TABLE/INDEX
babelfishpg_tsql.escape_hatch_table_hints#!#ignore#!#escape hatch for table hints
babelfishpg_tsql.escape_hatch_unique_constraint#!#strict#!#escape hatch for unique constraint
babelfishpg_tsql.explain_buffers#!#off#!#Include information on buffer usage
babelfishpg_tsql.explain_costs#!#on#!#Include information on estimated startup and total cost
babelfishpg_tsql.explain_format#!#text#!#Specify the output format, which can be TEXT, XML, JSON, or YAML
babelfishpg_tsql.explain_settings#!#off#!#Include information on configuration parameters
babelfishpg_tsql.explain_summary#!#off#!#Include summary information (e.g., totaled timing information) after the query plan
babelfishpg_tsql.explain_timing#!#off#!#Include actual startup time and time spent in each node in the output
babelfishpg_tsql.explain_verbose#!#off#!#Display additional information regarding the plan
babelfishpg_tsql.explain_wal#!#off#!#Include information on WAL record generation
~~END~~


-- Default value is on
SELECT CURRENT_SETTING('babelfishpg_tsql.explain_costs')
GO
~~START~~
text
on
~~END~~


-- Explain Gucs can set to on or off
EXEC sp_babelfish_configure 'babelfishpg_tsql.explain_costs','off'
GO

-- Should set to off
SELECT CURRENT_SETTING('babelfishpg_tsql.explain_costs')
GO
~~START~~
text
off
~~END~~


-- Should set all Gucs to default value
EXEC sp_babelfish_configure '%','default'
GO

-- Default value is on
SELECT CURRENT_SETTING('babelfishpg_tsql.explain_costs')
GO
~~START~~
text
on
~~END~~


-- Should throw error when trying to set to arbirary value
EXEC sp_babelfish_configure 'babelfishpg_tsql.explain_costs','eee'
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: parameter "babelfishpg_tsql.explain_costs" requires a Boolean value)~~


-- Set all escape hatch to strict
EXEC sp_babelfish_configure 'babelfishpg_tsql.escape_%', 'strict';
GO

-- All escape hatch set to strict
SELECT name,setting FROM pg_catalog.pg_settings WHERE name collate "C" like 'babelfishpg_tsql.escape_%'
GO
~~START~~
text#!#text
babelfishpg_tsql.escape_hatch_checkpoint#!#strict
babelfishpg_tsql.escape_hatch_constraint_name_for_default#!#strict
babelfishpg_tsql.escape_hatch_database_misc_options#!#strict
babelfishpg_tsql.escape_hatch_for_replication#!#strict
babelfishpg_tsql.escape_hatch_fulltext#!#strict
babelfishpg_tsql.escape_hatch_ignore_dup_key#!#strict
babelfishpg_tsql.escape_hatch_index_clustering#!#strict
babelfishpg_tsql.escape_hatch_index_columnstore#!#strict
babelfishpg_tsql.escape_hatch_join_hints#!#strict
babelfishpg_tsql.escape_hatch_language_non_english#!#strict
babelfishpg_tsql.escape_hatch_login_hashed_password#!#strict
babelfishpg_tsql.escape_hatch_login_misc_options#!#strict
babelfishpg_tsql.escape_hatch_login_old_password#!#strict
babelfishpg_tsql.escape_hatch_login_password_must_change#!#strict
babelfishpg_tsql.escape_hatch_login_password_unlock#!#strict
babelfishpg_tsql.escape_hatch_nocheck_add_constraint#!#strict
babelfishpg_tsql.escape_hatch_nocheck_existing_constraint#!#strict
babelfishpg_tsql.escape_hatch_query_hints#!#strict
babelfishpg_tsql.escape_hatch_rowguidcol_column#!#strict
babelfishpg_tsql.escape_hatch_rowversion#!#strict
babelfishpg_tsql.escape_hatch_schemabinding_function#!#strict
babelfishpg_tsql.escape_hatch_schemabinding_procedure#!#strict
babelfishpg_tsql.escape_hatch_schemabinding_trigger#!#strict
babelfishpg_tsql.escape_hatch_schemabinding_view#!#strict
babelfishpg_tsql.escape_hatch_session_settings#!#strict
babelfishpg_tsql.escape_hatch_showplan_all#!#strict
babelfishpg_tsql.escape_hatch_storage_on_partition#!#strict
babelfishpg_tsql.escape_hatch_storage_options#!#strict
babelfishpg_tsql.escape_hatch_table_hints#!#strict
babelfishpg_tsql.escape_hatch_unique_constraint#!#strict
~~END~~


-- Set all escape hatch to ignore 
EXEC sp_babelfish_configure 'babelfishpg_tsql.escape_%', 'ignore';
GO

-- All escape hatch set to ignore
SELECT name,setting FROM pg_catalog.pg_settings WHERE name collate "C" like 'babelfishpg_tsql.escape_%'
GO
~~START~~
text#!#text
babelfishpg_tsql.escape_hatch_checkpoint#!#ignore
babelfishpg_tsql.escape_hatch_constraint_name_for_default#!#ignore
babelfishpg_tsql.escape_hatch_database_misc_options#!#ignore
babelfishpg_tsql.escape_hatch_for_replication#!#ignore
babelfishpg_tsql.escape_hatch_fulltext#!#ignore
babelfishpg_tsql.escape_hatch_ignore_dup_key#!#ignore
babelfishpg_tsql.escape_hatch_index_clustering#!#ignore
babelfishpg_tsql.escape_hatch_index_columnstore#!#ignore
babelfishpg_tsql.escape_hatch_join_hints#!#ignore
babelfishpg_tsql.escape_hatch_language_non_english#!#ignore
babelfishpg_tsql.escape_hatch_login_hashed_password#!#ignore
babelfishpg_tsql.escape_hatch_login_misc_options#!#ignore
babelfishpg_tsql.escape_hatch_login_old_password#!#ignore
babelfishpg_tsql.escape_hatch_login_password_must_change#!#ignore
babelfishpg_tsql.escape_hatch_login_password_unlock#!#ignore
babelfishpg_tsql.escape_hatch_nocheck_add_constraint#!#ignore
babelfishpg_tsql.escape_hatch_nocheck_existing_constraint#!#ignore
babelfishpg_tsql.escape_hatch_query_hints#!#ignore
babelfishpg_tsql.escape_hatch_rowguidcol_column#!#ignore
babelfishpg_tsql.escape_hatch_rowversion#!#ignore
babelfishpg_tsql.escape_hatch_schemabinding_function#!#ignore
babelfishpg_tsql.escape_hatch_schemabinding_procedure#!#ignore
babelfishpg_tsql.escape_hatch_schemabinding_trigger#!#ignore
babelfishpg_tsql.escape_hatch_schemabinding_view#!#ignore
babelfishpg_tsql.escape_hatch_session_settings#!#ignore
babelfishpg_tsql.escape_hatch_showplan_all#!#ignore
babelfishpg_tsql.escape_hatch_storage_on_partition#!#ignore
babelfishpg_tsql.escape_hatch_storage_options#!#ignore
babelfishpg_tsql.escape_hatch_table_hints#!#ignore
babelfishpg_tsql.escape_hatch_unique_constraint#!#ignore
~~END~~


-- Set all escape hatch to strict
EXEC sp_babelfish_configure 'babelfishpg_tsql.escape_%', 'strict'
GO

-- Set all Gucs that vartype is enum and enumvals has ignore option to 'ignore'
EXEC sp_babelfish_configure '%','ignore'
GO

-- All Gucs that vartype is enum and enumvals has ignore option is 'ignore'
SELECT CURRENT_SETTING('babelfishpg_tsql.escape_hatch_showplan_all');
GO
~~START~~
text
ignore
~~END~~

SELECT CURRENT_SETTING('babelfishpg_tsql.escape_hatch_login_misc_options');
GO
~~START~~
text
ignore
~~END~~

SELECT CURRENT_SETTING('babelfishpg_tsql.escape_hatch_schemabinding_trigger');
GO
~~START~~
text
ignore
~~END~~

SELECT CURRENT_SETTING('babelfishpg_tsql.escape_hatch_schemabinding_view');
GO
~~START~~
text
ignore
~~END~~

SELECT CURRENT_SETTING('babelfishpg_tsql.escape_hatch_session_settings');
GO
~~START~~
text
ignore
~~END~~

SELECT CURRENT_SETTING('babelfishpg_tsql.escape_hatch_showplan_all');
GO
~~START~~
text
ignore
~~END~~


-- Set all Gucs back to default value
EXEC sp_babelfish_configure '%','ignore'
GO

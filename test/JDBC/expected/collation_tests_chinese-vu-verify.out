--varchar
SELECT * FROM collation_tests_chinese_vu_prepare_varchar ORDER BY name;
GO
~~START~~
varchar
爱
狗
猫
你好。
是的。
微笑
谢谢你。
幸福
再见。
中国人
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_varchar WHERE name LIKE '%的%';
GO
~~START~~
varchar
是的。
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_varchar WHERE name='是的。';
GO
~~START~~
varchar
是的。
~~END~~

SELECT * FROM collation_tests_chinese_vu_prepare_varchar WHERE name='是的。' COLLATE chinese_prc_cs_as;
GO
~~START~~
varchar
是的。
~~END~~


--inner join
SELECT * FROM [INNER JOIN SAME CP CHINESE] WHERE same_name = '微笑';
GO
~~START~~
varchar#!#varchar
微笑#!#微笑
~~END~~


--computed column
SELECT substr_chinese FROM collation_tests_chinese_vu_prepare_varchar_computed_columns;
GO
~~START~~
varchar
爱
幸
猫
狗
微
中
是
谢
再
你
~~END~~


SELECT substr_chinese FROM collation_tests_chinese_vu_prepare_varchar_computed_columns WHERE substr_chinese='微';
GO
~~START~~
varchar
微
~~END~~


SELECT 
    name, 
    collation_name 
FROM sys.columns 
WHERE name = N'substr_chinese';
GO
~~START~~
varchar#!#varchar
substr_chinese#!#chinese_prc_ci_as
~~END~~


--nvarchar
SELECT * FROM collation_tests_chinese_vu_prepare_nvarchar ORDER BY name;
GO
~~START~~
nvarchar
爱
狗
猫
你好。
是的。
微笑
谢谢你。
幸福
再见。
中国人
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_nvarchar WHERE name LIKE '%的%';
GO
~~START~~
nvarchar
是的。
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_nvarchar WHERE name='是的。';
GO
~~START~~
nvarchar
是的。
~~END~~

SELECT * FROM collation_tests_chinese_vu_prepare_nvarchar WHERE name='是的。' COLLATE chinese_prc_cs_as;
GO
~~START~~
nvarchar
是的。
~~END~~



--char
SELECT * FROM collation_tests_chinese_vu_prepare_char ORDER BY name;
GO
~~START~~
char
爱                  
狗                  
猫                  
你好。              
是的。              
微笑                
谢谢你。            
幸福                
再见。              
中国人              
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_char WHERE name LIKE '%的%';
GO
~~START~~
char
是的。              
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_char WHERE name='是的。';
GO
~~START~~
char
是的。              
~~END~~

SELECT * FROM collation_tests_chinese_vu_prepare_char WHERE name='是的。' COLLATE chinese_prc_cs_as;
GO
~~START~~
char
是的。              
~~END~~


--nchar
SELECT * FROM collation_tests_chinese_vu_prepare_nchar ORDER BY name;
GO
~~START~~
nchar
爱                   
狗                   
猫                   
你好。                 
是的。                 
微笑                  
谢谢你。                
幸福                  
再见。                 
中国人                 
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_nchar WHERE name LIKE '%的%';
GO
~~START~~
nchar
是的。                 
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_nchar WHERE name='是的。';
GO
~~START~~
nchar
是的。                 
~~END~~

SELECT * FROM collation_tests_chinese_vu_prepare_nchar WHERE name='是的。' COLLATE chinese_prc_cs_as;
GO
~~START~~
nchar
是的。                 
~~END~~


--text
SELECT * FROM collation_tests_chinese_vu_prepare_text ORDER BY name;
GO
~~START~~
text
爱
狗
猫
你好。
是的。
微笑
谢谢你。
幸福
再见。
中国人
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_text WHERE name LIKE '%的%';
GO
~~START~~
text
是的。
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_text WHERE name='是的。';
GO
~~START~~
text
是的。
~~END~~

SELECT * FROM collation_tests_chinese_vu_prepare_text WHERE name='是的。' COLLATE chinese_prc_cs_as;
GO
~~START~~
text
是的。
~~END~~


--primary key
INSERT INTO collation_tests_chinese_vu_prepare_primary VALUES ('爱');
INSERT INTO collation_tests_chinese_vu_prepare_primary VALUES ('爱');
GO
~~ROW COUNT: 1~~

~~ERROR (Code: 2627)~~

~~ERROR (Message: duplicate key value violates unique constraint "collation_tests_chinese_vu_prepare_primary_pkey")~~


SELECT * FROM collation_tests_chinese_vu_prepare_primary ORDER BY name;
GO
~~START~~
varchar
爱
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_primary WHERE name LIKE '%是%';
GO
~~START~~
varchar
~~END~~


SELECT * FROM collation_tests_chinese_vu_prepare_primary WHERE name = '爱';
GO
~~START~~
varchar
爱
~~END~~

SELECT * FROM collation_tests_chinese_vu_prepare_primary WHERE name='爱' COLLATE chinese_prc_cs_as;
GO
~~START~~
varchar
爱
~~END~~


--truncation error
INSERT INTO collation_tests_chinese_vu_prepare_truncation VALUES('微笑');
GO
~~ERROR (Code: 8152)~~

~~ERROR (Message: value too long for type character varying(3))~~


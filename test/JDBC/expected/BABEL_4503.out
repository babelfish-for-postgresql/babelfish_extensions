-- tsql
CREATE LOGIN babel_4503_login WITH PASSWORD = 'pass_4503'
GO
-- terminate-tsql-conn

-- tsql     user=babel_4503_login password=pass_4503
SELECT current_user
GO
~~START~~
varchar
guest
~~END~~

EXECUTE sys.babel_datatype_precedence_initializer
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_datatype_precedence_initializer)~~

EXECUTE sys.babel_coercion_initializer
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_coercion_initializer)~~

EXECUTE sys.babel_catalog_initializer
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_catalog_initializer)~~

EXECUTE sys.babel_create_builtin_dbs 'dummy_value'
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_create_builtin_dbs)~~

EXECUTE sys.babel_drop_all_dbs
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_drop_all_dbs)~~

EXECUTE sys.babel_initialize_logins 'dummy_value'
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_initialize_logins)~~

EXECUTE sys.babel_drop_all_logins
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_drop_all_logins)~~

EXECUTE sys.initialize_babel_extras
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure initialize_babel_extras)~~

EXECUTE sys.analyze_babelfish_catalogs
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure analyze_babelfish_catalogs)~~

EXECUTE sys.initialize_babelfish 'dummy_value'
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure initialize_babelfish)~~

EXECUTE sys.remove_babelfish
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure remove_babelfish)~~

-- terminate-tsql-conn user=babel_4503_login password=pass_4503

-- psql     user=babel_4503_login password=pass_4503
SELECT current_user
GO
~~START~~
name
babel_4503_login
~~END~~

CALL sys.babel_datatype_precedence_initializer()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_datatype_precedence_initializer
    Server SQLState: 42501)~~

CALL sys.babel_coercion_initializer()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_coercion_initializer
    Server SQLState: 42501)~~

CALL sys.babel_catalog_initializer()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_catalog_initializer
    Server SQLState: 42501)~~

CALL sys.babel_create_builtin_dbs('dummy_value')
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_create_builtin_dbs
    Server SQLState: 42501)~~

CALL sys.babel_drop_all_dbs()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_drop_all_dbs
    Server SQLState: 42501)~~

CALL sys.babel_initialize_logins('dummy_value')
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_initialize_logins
    Server SQLState: 42501)~~

CALL sys.babel_drop_all_logins()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_drop_all_logins
    Server SQLState: 42501)~~

CALL sys.initialize_babel_extras()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure initialize_babel_extras
    Server SQLState: 42501)~~

CALL sys.analyze_babelfish_catalogs()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure analyze_babelfish_catalogs
    Server SQLState: 42501)~~

CALL sys.initialize_babelfish('dummy_value')
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure initialize_babelfish
    Server SQLState: 42501)~~

CALL sys.remove_babelfish()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure remove_babelfish
    Server SQLState: 42501)~~

-- terminate-psql-conn user=babel_4503_login password=pass_4503

-- tsql
CREATE USER babel_4503_user FOR LOGIN babel_4503_login
GO
-- terminate-tsql-conn

-- tsql     user=babel_4503_login password=pass_4503
SELECT current_user
GO
~~START~~
varchar
babel_4503_user
~~END~~

EXECUTE sys.babel_datatype_precedence_initializer
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_datatype_precedence_initializer)~~

EXECUTE sys.babel_coercion_initializer
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_coercion_initializer)~~

EXECUTE sys.babel_catalog_initializer
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_catalog_initializer)~~

EXECUTE sys.babel_create_builtin_dbs 'dummy_value'
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_create_builtin_dbs)~~

EXECUTE sys.babel_drop_all_dbs
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_drop_all_dbs)~~

EXECUTE sys.babel_initialize_logins 'dummy_value'
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_initialize_logins)~~

EXECUTE sys.babel_drop_all_logins
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure babel_drop_all_logins)~~

EXECUTE sys.initialize_babel_extras
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure initialize_babel_extras)~~

EXECUTE sys.analyze_babelfish_catalogs
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure analyze_babelfish_catalogs)~~

EXECUTE sys.initialize_babelfish 'dummy_value'
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure initialize_babelfish)~~

EXECUTE sys.remove_babelfish
GO
~~ERROR (Code: 33557097)~~

~~ERROR (Message: permission denied for procedure remove_babelfish)~~

-- terminate-tsql-conn user=babel_4503_login password=pass_4503

-- psql     user=babel_4503_login password=pass_4503
SELECT current_user
GO
~~START~~
name
babel_4503_login
~~END~~

CALL sys.babel_datatype_precedence_initializer()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_datatype_precedence_initializer
    Server SQLState: 42501)~~

CALL sys.babel_coercion_initializer()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_coercion_initializer
    Server SQLState: 42501)~~

CALL sys.babel_catalog_initializer()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_catalog_initializer
    Server SQLState: 42501)~~

CALL sys.babel_create_builtin_dbs('dummy_value')
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_create_builtin_dbs
    Server SQLState: 42501)~~

CALL sys.babel_drop_all_dbs()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_drop_all_dbs
    Server SQLState: 42501)~~

CALL sys.babel_initialize_logins('dummy_value')
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_initialize_logins
    Server SQLState: 42501)~~

CALL sys.babel_drop_all_logins()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure babel_drop_all_logins
    Server SQLState: 42501)~~

CALL sys.initialize_babel_extras()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure initialize_babel_extras
    Server SQLState: 42501)~~

CALL sys.analyze_babelfish_catalogs()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure analyze_babelfish_catalogs
    Server SQLState: 42501)~~

CALL sys.initialize_babelfish('dummy_value')
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure initialize_babelfish
    Server SQLState: 42501)~~

CALL sys.remove_babelfish()
GO
~~ERROR (Code: 0)~~

~~ERROR (Message: ERROR: permission denied for procedure remove_babelfish
    Server SQLState: 42501)~~

-- terminate-psql-conn user=babel_4503_login password=pass_4503

-- tsql
DROP USER babel_4503_user
GO
DROP LOGIN babel_4503_login
GO
-- terminate-tsql-conn

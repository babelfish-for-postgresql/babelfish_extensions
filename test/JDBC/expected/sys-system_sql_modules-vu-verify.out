-- Test for system function
SELECT
    definition,
    uses_ansi_nulls,
    uses_quoted_identifier,
    is_schema_bound,
    uses_database_collation,
    is_recompiled,
    null_on_null_input,
    execute_as_principal_id,
    uses_native_compilation
FROM sys.system_sql_modules
WHERE object_id = OBJECT_ID('sys.fn_listextendedproperty')
GO
~~START~~
nvarchar#!#bit#!#bit#!#bit#!#bit#!#bit#!#bit#!#int#!#bit
<NULL>#!#1#!#1#!#0#!#0#!#0#!#0#!#<NULL>#!#0
~~END~~


-- Test for system views
SELECT
    definition,
    uses_ansi_nulls,
    uses_quoted_identifier,
    is_schema_bound,
    uses_database_collation,
    is_recompiled,
    null_on_null_input,
    execute_as_principal_id,
    uses_native_compilation
FROM sys.system_sql_modules
WHERE object_id = OBJECT_ID('sys.tables')
GO
~~START~~
nvarchar#!#bit#!#bit#!#bit#!#bit#!#bit#!#bit#!#int#!#bit
#!#1#!#1#!#0#!#0#!#0#!#0#!#<NULL>#!#0
~~END~~


-- Test for system proc
SELECT
    definition,
    uses_ansi_nulls,
    uses_quoted_identifier,
    is_schema_bound,
    uses_database_collation,
    is_recompiled,
    null_on_null_input,
    execute_as_principal_id,
    uses_native_compilation
FROM sys.system_sql_modules
WHERE definition LIKE 'CREATE PROCEDURE sp_columns_managed%'
GO
~~START~~
nvarchar#!#bit#!#bit#!#bit#!#bit#!#bit#!#bit#!#int#!#bit
CREATE PROCEDURE sp_columns_managed("@Catalog" nvarchar(128)= NULL::"varchar", "@Owner" nvarchar(128)= NULL::"varchar", "@Table" nvarchar(128)= NULL::"varchar", "@Column" nvarchar(128)= NULL::"varchar", "@SchemaType" nvarchar(128)= 0) AS <newline>BEGIN<newline>    SELECT<newline>        out_TABLE_CATALOG AS TABLE_CATALOG,<newline>        out_TABLE_SCHEMA AS TABLE_SCHEMA,<newline>        out_TABLE_NAME AS TABLE_NAME,<newline>        out_COLUMN_NAME AS COLUMN_NAME,<newline>        out_ORDINAL_POSITION AS ORDINAL_POSITION,<newline>        out_COLUMN_DEFAULT AS COLUMN_DEFAULT,<newline>        out_IS_NULLABLE AS IS_NULLABLE,<newline>        out_DATA_TYPE AS DATA_TYPE,<newline>        out_CHARACTER_MAXIMUM_LENGTH AS CHARACTER_MAXIMUM_LENGTH,<newline>        out_CHARACTER_OCTET_LENGTH AS CHARACTER_OCTET_LENGTH,<newline>        out_NUMERIC_PRECISION AS NUMERIC_PRECISION,<newline>        out_NUMERIC_PRECISION_RADIX AS NUMERIC_PRECISION_RADIX,<newline>        out_NUMERIC_SCALE AS NUMERIC_SCALE,<newline>        out_DATETIME_PRECISION AS DATETIME_PRECISION,<newline>        out_CHARACTER_SET_CATALOG AS CHARACTER_SET_CATALOG,<newline>        out_CHARACTER_SET_SCHEMA AS CHARACTER_SET_SCHEMA,<newline>        out_CHARACTER_SET_NAME AS CHARACTER_SET_NAME,<newline>        out_COLLATION_CATALOG AS COLLATION_CATALOG,<newline>        out_IS_SPARSE AS IS_SPARSE,<newline>        out_IS_COLUMN_SET AS IS_COLUMN_SET,<newline>        out_IS_FILESTREAM AS IS_FILESTREAM<newline>    FROM<newline>        sys.sp_columns_managed_internal(@Catalog, @Owner, @Table, @Column, @SchemaType) s_cv<newline>    ORDER BY TABLE_CATALOG, TABLE_SCHEMA, TABLE_NAME, IS_NULLABLE;<newline>END;<newline>#!#1#!#1#!#0#!#0#!#0#!#0#!#<NULL>#!#0
~~END~~


-- Test for system function written in c 
SELECT
    definition,
    uses_ansi_nulls,
    uses_quoted_identifier,
    is_schema_bound,
    uses_database_collation,
    is_recompiled,
    null_on_null_input,
    execute_as_principal_id,
    uses_native_compilation
FROM sys.system_sql_modules
WHERE object_id = OBJECT_ID('sys.user_name')
GO
~~START~~
nvarchar#!#bit#!#bit#!#bit#!#bit#!#bit#!#bit#!#int#!#bit
CREATE OR REPLACE FUNCTION sys.user_name(id oid DEFAULT NULL::oid)<newline> RETURNS nvarchar<newline> LANGUAGE c<newline> IMMUTABLE PARALLEL SAFE<newline>AS 'babelfishpg_tsql', $function$user_name$function$<newline>#!#1#!#1#!#0#!#0#!#0#!#0#!#<NULL>#!#0
~~END~~


# Test (1): Test sys.sp_reset_connection stored procedure
CREATE TABLE #babel_temp_table (ID INT identity(1,1), Data INT)
INSERT INTO #babel_temp_table (Data) VALUES (100), (200), (300)
SELECT * from #babel_temp_table
storedproc#!#prep#!#sys.sp_reset_connection#!#
SELECT * from #babel_temp_table
# Test (1): End

# Test (2): 
DROP TABLE IF EXISTS babel_test_sp_reset_table;
CREATE TABLE babel_test_sp_reset_table (ID INT identity(1,1), Data INT);
INSERT INTO babel_test_sp_reset_table (Data) VALUES (100);
txn#!#BEGIN
INSERT INTO babel_test_sp_reset_table (Data) VALUES (200);
storedproc#!#prep#!#sys.sp_reset_connection#!#
SELECT * FROM babel_test_sp_reset_table;
#txn#!#COMMIT
SELECT * FROM babel_test_sp_reset_table;
# Test (2): End
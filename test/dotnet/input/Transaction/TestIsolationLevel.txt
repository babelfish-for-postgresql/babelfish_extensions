SELECT set_config('babelfishpg_tsql.repeatable_read_isolation','pg_isolation',false)
SELECT set_config('babelfishpg_tsql.serializable_isolation','default',false)

# Begin transaction -> rollback transaction
txn#!#begin#!#isolation#!#rr
select @@trancount;
select current_setting('transaction_isolation')
select current_setting('default_transaction_isolation')
txn#!#rollback

# Begin transaction -> error
txn#!#begin#!#isolation#!#s -- error
select @@trancount;
select current_setting('transaction_isolation')
select current_setting('default_transaction_isolation')

SELECT set_config('babelfishpg_tsql.repeatable_read_isolation','default',false)
SELECT set_config('babelfishpg_tsql.serializable_isolation','pg_isolation',false)

# Begin transaction -> error
txn#!#begin#!#isolation#!#rr -- error
select @@trancount;
select current_setting('transaction_isolation')
select current_setting('default_transaction_isolation')

# Begin transaction -> rollback transaction
txn#!#begin#!#isolation#!#s
select @@trancount;
select current_setting('transaction_isolation')
select current_setting('default_transaction_isolation')
txn#!#rollback